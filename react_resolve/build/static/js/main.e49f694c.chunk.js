(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,,,,,,function(e,a,t){e.exports=t.p+"static/media/logo.5d5d9eef.svg"},,,function(e,a,t){},,,,function(e,a,t){},function(e,a,t){},function(e,a,t){},,function(e,a,t){},,,function(e,a,t){e.exports=t(47)},,,,,function(e,a,t){},function(e,a,t){},,,function(e,a,t){},function(e,a,t){},,,,,,function(e,a,t){},function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(28),l=t.n(s),o=(t(35),t(3)),c=t(4),i=t(6),m=t(5),u=t(7),d=t(1),p=t(16),g=t.n(p),h=(t(36),t(2)),b=t.n(h),v=t(8),f=(t(23),t(14)),E=t(9);t(24);var C,y=function(e){return r.a.createElement("div",{className:"container home-div"},r.a.createElement("h2",{className:"home-greeting-msg"},"Hello ",e.name,"!"),r.a.createElement("h4",null,"Welcome to student's portal of Resolve!"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h5",null,"Resolve is a prototype of a Student's Grievance Support System."),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"resolve-features-div"},r.a.createElement("h5",null,"It supports following features: "),r.a.createElement("p",null,"* Sign Up"),r.a.createElement("p",null,"* Sign In"),r.a.createElement("p",null,"* Own profile viewing and updating"),r.a.createElement("p",null,"* Posting complaints while choosing between several departments and sub categories ",r.a.createElement("em",null,"[",r.a.createElement("strong",null,"Only for students"),"]")),r.a.createElement("p",null,"* Viewing pending and resloved complaints ",r.a.createElement("em",null,"[",r.a.createElement("strong",null,"Only for students"),"]")),r.a.createElement("p",null,"* Viewing pending complaints ",r.a.createElement("em",null,"[",r.a.createElement("strong",null,"Only for Administration staffs"),"]")),r.a.createElement("p",null,"* Resolving pending complaints ",r.a.createElement("em",null,"[",r.a.createElement("strong",null,"Only for Administration staffs"),"]"))))};t(25),t(19);C="https://resolve.aryanabhi.in";var N,k=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(i.a)(this,Object(m.a)(a).call(this,e))).state={newPass:"",confNewPass:"",errorMsg:""},t.passChangeHandler=t.passChangeHandler.bind(Object(d.a)(Object(d.a)(t))),t.newPasswordChangeHandler=t.newPasswordChangeHandler.bind(Object(d.a)(Object(d.a)(t))),t.confNewPasswordChangeHandler=t.confNewPasswordChangeHandler.bind(Object(d.a)(Object(d.a)(t))),t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"newPasswordChangeHandler",value:function(e){this.setState({newPass:e.target.value})}},{key:"confNewPasswordChangeHandler",value:function(e){this.setState({confNewPass:e.target.value})}},{key:"passChangeHandler",value:function(){var e=Object(v.a)(b.a.mark(function e(a){var t,n,r,s,l;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),t=this.state.newPass.trim(),n=this.state.confNewPass.trim(),t){e.next=7;break}this.setState({errorMsg:"New pass empty!"}),e.next=33;break;case 7:if(n){e.next=11;break}this.setState({errorMsg:"Conf new pass empty!"}),e.next=33;break;case 11:if(t===n){e.next=15;break}this.setState({errorMsg:"New pass and conf pass do not match!"}),e.next=33;break;case 15:return this.setState({errorMsg:""}),e.prev=16,r=C+"/api/profile/changePassword",e.next=20,fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({category:this.props.category,password:this.state.newPass,token:sessionStorage.getItem("assistToken")})});case 20:return s=e.sent,e.next=23,s.json();case 23:if(200===(l=e.sent).status){e.next=26;break}return e.abrupt("return",alert(l.message));case 26:alert("Password changed successfully!!"),this.setState({newPass:"",confNewPass:""}),e.next=33;break;case 30:e.prev=30,e.t0=e.catch(16),alert(e.t0.message);case 33:case"end":return e.stop()}},e,this,[[16,30]])}));return function(a){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"container change-pass-div"},r.a.createElement("form",{noValidate:!0},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-form-label"},"New password:"),r.a.createElement("input",{type:"password",className:"form-control",value:this.state.newPass,onChange:this.newPasswordChangeHandler,required:"required"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-form-label"},"Confirm new password:"),r.a.createElement("input",{type:"password",className:"form-control",value:this.state.confNewPass,onChange:this.confNewPasswordChangeHandler,required:"required"})),r.a.createElement("p",{className:"errorMsg"},this.state.errorMsg),r.a.createElement("span",null,r.a.createElement("button",{type:"submit",className:"btn btn-outline-info",onClick:this.passChangeHandler},"Submit"))))}}]),a}(r.a.Component);N="https://resolve.aryanabhi.in";var O=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(i.a)(this,Object(m.a)(a).call(this,e))).state={name:"",email:"",roll:"",dob:"",department:"",college:"",address:"",phone:""},t.rollChangeHandler=t.rollChangeHandler.bind(Object(d.a)(Object(d.a)(t))),t.dobChangeHandler=t.dobChangeHandler.bind(Object(d.a)(Object(d.a)(t))),t.dobChangeHandler=t.dobChangeHandler.bind(Object(d.a)(Object(d.a)(t))),t.departmentChangeHandler=t.departmentChangeHandler.bind(Object(d.a)(Object(d.a)(t))),t.collegeChangeHandler=t.collegeChangeHandler.bind(Object(d.a)(Object(d.a)(t))),t.addressChangeHandler=t.addressChangeHandler.bind(Object(d.a)(Object(d.a)(t))),t.phoneChangeHandler=t.phoneChangeHandler.bind(Object(d.a)(Object(d.a)(t))),t.updateProfileHandler=t.updateProfileHandler.bind(Object(d.a)(Object(d.a)(t))),t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"rollChangeHandler",value:function(e){this.setState({roll:e.target.value})}},{key:"dobChangeHandler",value:function(e){this.setState({dob:e.target.value})}},{key:"departmentChangeHandler",value:function(e){this.setState({department:e.target.value})}},{key:"collegeChangeHandler",value:function(e){this.setState({college:e.target.value})}},{key:"addressChangeHandler",value:function(e){this.setState({address:e.target.value})}},{key:"phoneChangeHandler",value:function(e){this.setState({phone:e.target.value})}},{key:"componentDidMount",value:function(){var e=Object(v.a)(b.a.mark(function e(){var a,t,n,r,s,l,o,c,i,m,u;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,sessionStorage.getItem("assistToken")){e.next=6;break}return e.abrupt("return",alert("Token missing! Please sign out and sign in again!"));case 6:return a=N+"/api/profile/getProfile",e.next=9,fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({category:"student",token:sessionStorage.getItem("assistToken")})});case 9:return t=e.sent,e.next=12,t.json();case 12:200!==(n=e.sent).status?(alert(n.message),alert("There was some error! Please sign out and sign in again.")):(r=n.user.name,s=n.user.email,l=n.user.roll,o=n.user.dob,c=n.user.department,i=n.user.college,m=n.user.address,u=n.user.phone,this.setState({name:r,email:s,roll:l,dob:o,department:c,college:i,address:m,phone:u}));case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),alert("There was some error! Please sign out and sign in again.");case 19:case"end":return e.stop()}},e,this,[[0,16]])}));return function(){return e.apply(this,arguments)}}()},{key:"updateProfileHandler",value:function(){var e=Object(v.a)(b.a.mark(function e(a){var t,n,r,s,l,o,c,i,m;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),t=this.state.roll.trim(),n=this.state.dob.trim(),r=this.state.department.trim(),s=this.state.college.trim(),l=this.state.address.trim(),o=this.state.phone.trim(),t){e.next=11;break}alert("Roll no empty!"),e.next=47;break;case 11:if(n){e.next=15;break}alert("DOB empty!"),e.next=47;break;case 15:if(r){e.next=19;break}alert("Department empty!"),e.next=47;break;case 19:if(s){e.next=23;break}alert("College empty!"),e.next=47;break;case 23:if(l){e.next=27;break}alert("Address empty!"),e.next=47;break;case 27:if(o){e.next=31;break}alert("Phone empty!"),e.next=47;break;case 31:return e.prev=31,c=N+"/api/profile/updateProfile",e.next=35,fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({roll:t,dob:n,department:r,college:s,address:l,phone:o,category:"student",token:sessionStorage.getItem("assistToken")})});case 35:return i=e.sent,e.next=38,i.json();case 38:if(200===(m=e.sent).status){e.next=41;break}return e.abrupt("return",alert(m.message));case 41:alert("Profile updated successfully!!"),e.next=47;break;case 44:e.prev=44,e.t0=e.catch(31),alert(e.t0.message);case 47:case"end":return e.stop()}},e,this,[[31,44]])}));return function(a){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"container change-pass-div"},r.a.createElement("form",{noValidate:!0},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-form-label"},"Name:"),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.name,disabled:!0,required:"required"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-form-label"},"Email:"),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.email,disabled:!0,required:"required"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-form-label"},"Roll no:"),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.roll,onChange:this.rollChangeHandler,required:"required"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-form-label"},"Date of birth:"),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.dob,onChange:this.dobChangeHandler,required:"required"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-form-label"},"Department:"),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.department,onChange:this.departmentChangeHandler,required:"required"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-form-label"},"College:"),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.college,onChange:this.collegeChangeHandler,required:"required"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-form-label"},"Address:"),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.address,onChange:this.addressChangeHandler,required:"required"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-form-label"},"Phone Number:"),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.phone,onChange:this.phoneChangeHandler,required:"required"})),r.a.createElement("span",null,r.a.createElement("button",{type:"submit",className:"btn btn-outline-info",onClick:this.updateProfileHandler},"Update"))))}}]),a}(r.a.Component);var j,H=function(e){return r.a.createElement("div",{className:"container profile-main-div"},r.a.createElement("h3",{className:"profile-greeting-msg"},"You can view and edit your profile details here."),r.a.createElement("div",{className:"container profile-edit-div"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement(O,null)),r.a.createElement("div",{className:"col-md-4"},r.a.createElement(k,{category:"student"})))))};t(39);j="https://resolve.aryanabhi.in";var S,x=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(i.a)(this,Object(m.a)(a).call(this,e))).state={department:"CSE",subCategory:"Admission",college:"BIT Mesra",message:""},t.departmentChangeHandler=t.departmentChangeHandler.bind(Object(d.a)(Object(d.a)(t))),t.subCategoryChangeHandler=t.subCategoryChangeHandler.bind(Object(d.a)(Object(d.a)(t))),t.collegeChangeHandler=t.collegeChangeHandler.bind(Object(d.a)(Object(d.a)(t))),t.messageChangeHandler=t.messageChangeHandler.bind(Object(d.a)(Object(d.a)(t))),t.messageClearHandler=t.messageClearHandler.bind(Object(d.a)(Object(d.a)(t))),t.postComplaintHandler=t.postComplaintHandler.bind(Object(d.a)(Object(d.a)(t))),t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"departmentChangeHandler",value:function(e){this.setState({department:e.target.value})}},{key:"subCategoryChangeHandler",value:function(e){this.setState({subCategory:e.target.value})}},{key:"collegeChangeHandler",value:function(e){this.setState({college:e.target.value})}},{key:"messageChangeHandler",value:function(e){this.setState({message:e.target.value})}},{key:"messageClearHandler",value:function(){this.setState({message:""})}},{key:"postComplaintHandler",value:function(){var e=Object(v.a)(b.a.mark(function e(){var a,t,n,r;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.state.message.trim()){e.next=5;break}return e.abrupt("return",alert("Complaint message cant be empty!!"));case 5:return e.prev=5,t=j+"/api/complaint/postComplaint",e.next=9,fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:this.props.name,email:this.props.email,roll:this.props.roll,department:this.state.department,subCategory:this.state.subCategory,college:this.state.college,message:a,token:sessionStorage.getItem("assistToken")})});case 9:return n=e.sent,e.next=12,n.json();case 12:if(200===(r=e.sent).status){e.next=15;break}return e.abrupt("return",alert(r.message));case 15:alert(r.message),this.setState({department:"ECE",subCategory:"Admission",college:"BIT Mesra",message:""}),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(5),alert(e.t0.message);case 22:case"end":return e.stop()}},e,this,[[5,19]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"container post-complaint-div"},r.a.createElement("h3",null,"You can post complaints here."),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-form-label"},"Department:"),r.a.createElement("select",{className:"form-control",value:this.state.department,onChange:this.departmentChangeHandler},r.a.createElement("option",{value:"CSE"},"CSE"),r.a.createElement("option",{value:"MECH"},"MECH"),r.a.createElement("option",{value:"ECE"},"ECE"),r.a.createElement("option",{value:"IT"},"IT"),r.a.createElement("option",{value:"CIVIL"},"CIVIL"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-form-label"},"Sub Category:"),r.a.createElement("select",{className:"form-control",value:this.state.subCategory,onChange:this.subCategoryChangeHandler},r.a.createElement("option",{value:"Admission"},"Admission"),r.a.createElement("option",{value:"Finance"},"Finance"),r.a.createElement("option",{value:"Examination"},"Examination"),r.a.createElement("option",{value:"Timetable"},"Timetable"),r.a.createElement("option",{value:"Paper Re-evaluation"},"Paper Re-evaluation"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-form-label"},"College:"),r.a.createElement("select",{className:"form-control",value:this.state.college,onChange:this.collegeChangeHandler},r.a.createElement("option",{value:"BIT Mesra"},"BIT Mesra"),r.a.createElement("option",{value:"BIT Patna"},"BIT Patna"),r.a.createElement("option",{value:"BIT Lalpur"},"BIT Lalpur"),r.a.createElement("option",{value:"BIT Sindri"},"BIT Sindri"),r.a.createElement("option",{value:"BIT Deoghar"},"BIT Deoghar"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-form-label"},"Complaint Message:"),r.a.createElement("textarea",{className:"form-control",value:this.state.message,onChange:this.messageChangeHandler})),r.a.createElement("div",{className:"form-group post-complaints-buttons"},r.a.createElement("span",null,r.a.createElement("button",{className:"btn btn-warning",onClick:this.messageClearHandler},"Clear")),r.a.createElement("span",null,r.a.createElement("button",{className:"btn btn-success",onClick:this.postComplaintHandler},"Send"))))}}]),a}(r.a.Component);t(40);function w(e){return r.a.createElement("div",{className:"indiv-complaint-wrapper"},r.a.createElement("div",{className:"indiv-complaint"},r.a.createElement("p",null,r.a.createElement("strong",null,"Created: "),e.dateCreated),r.a.createElement("p",null,r.a.createElement("strong",null,"Department: "),e.department),r.a.createElement("p",null,r.a.createElement("strong",null,"Sub Category: "),e.subCategory),r.a.createElement("p",null,r.a.createElement("strong",null,"College: "),e.college),r.a.createElement("p",null,r.a.createElement("strong",null,"Message: "),e.message)))}function P(e){return r.a.createElement("div",{className:"indiv-complaint-wrapper"},r.a.createElement("div",{className:"indiv-complaint"},r.a.createElement("p",null,r.a.createElement("strong",null,"Created: "),e.dateCreated),r.a.createElement("p",null,r.a.createElement("strong",null,"Department: "),e.department),r.a.createElement("p",null,r.a.createElement("strong",null,"Sub Category: "),e.subCategory),r.a.createElement("p",null,r.a.createElement("strong",null,"College: "),e.college),r.a.createElement("p",null,r.a.createElement("strong",null,"Message: "),e.message),r.a.createElement("p",null,r.a.createElement("strong",null,"Resolved: "),e.dateResolved),r.a.createElement("p",null,r.a.createElement("strong",null,"Feedback: "),e.feedback)))}S="https://resolve.aryanabhi.in";var T,I=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(i.a)(this,Object(m.a)(a).call(this,e))).state={complaints:[]},t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=Object(v.a)(b.a.mark(function e(){var a,t,n;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(sessionStorage.getItem("assistToken")){e.next=5;break}return e.abrupt("return",alert("Token missing! Please sign out and sign in again."));case 5:return e.prev=5,a=S+"/api/complaint/getComplaints",e.next=9,fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:sessionStorage.getItem("assistToken")})});case 9:return t=e.sent,e.next=12,t.json();case 12:if(200===(n=e.sent).status){e.next=15;break}return e.abrupt("return",alert(n.message));case 15:this.setState({complaints:n.complaints}),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(5),alert(e.t0.message);case 21:case"end":return e.stop()}},e,this,[[5,18]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=[],a=[];return this.state.complaints.forEach(function(t){t.resolved?a.push(r.a.createElement(P,{key:t._id,department:t.department,subCategory:t.subCategory,college:t.college,message:t.message,feedback:t.resolveMessage,dateCreated:t.dateCreated,dateResolved:t.dateResolved})):e.push(r.a.createElement(w,{key:t._id,department:t.department,subCategory:t.subCategory,college:t.college,message:t.message,feedback:t.resolveMessage,dateCreated:t.dateCreated,dateResolved:t.dateResolved}))}),r.a.createElement("div",{className:"container complaints-div"},r.a.createElement("h3",null,"You can see the status of all your complaints here."),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("h5",null,"Pending complaints: "),r.a.createElement("div",{className:"pending-complaints-div"},e)),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("h5",null,"Resolved complaints: "),r.a.createElement("div",{className:"resolved-complaints-div"},a))))}}]),a}(r.a.Component);T="https://resolve.aryanabhi.in";var M=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(i.a)(this,Object(m.a)(a).call(this,e))).state={name:"",email:"",roll:""},t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=Object(v.a)(b.a.mark(function e(){var a,t,n;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,sessionStorage.getItem("assistToken")){e.next=4;break}return e.abrupt("return",alert("Token missing! Please sign out and sign in again!!"));case 4:return a=T+"/api/profile/getProfile",e.next=7,fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({category:"student",token:sessionStorage.getItem("assistToken")})});case 7:return t=e.sent,e.next=10,t.json();case 10:if(200===(n=e.sent).status){e.next=15;break}return e.abrupt("return",alert(n.message));case 15:this.setState({name:n.user.name,email:n.user.email,roll:n.user.roll});case 16:e.next=22;break;case 18:return e.prev=18,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",alert("There was some error! Please sign out and sign in again!!"));case 22:case"end":return e.stop()}},e,this,[[0,18]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(f.a,null,r.a.createElement("div",{className:"container"},r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light"},r.a.createElement("span",{className:"navbar-brand nav-logo"},r.a.createElement("img",{src:g.a,className:"Portal-logo",alt:"logo"}),r.a.createElement("h2",null,"RESOLVE")),r.a.createElement("button",{className:"navbar-toggler portal-navbar-toggle-btn",type:"button","data-toggle":"collapse","data-target":"#navbarTogglerPortal","aria-controls":"navbarTogglerPortal","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarTogglerPortal"},r.a.createElement("ul",{className:"navbar-nav mr-auto mt-2 mt-lg-0"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(f.b,{to:"/"},"Home")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(f.b,{to:"/profile"},"Profile")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(f.b,{to:"/postComplaint"},"Post Complaint")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(f.b,{to:"/complaintStatus"},"Complaint Status"))),r.a.createElement("span",{className:"form-inline my-2 my-lg-0"},r.a.createElement("button",{className:"btn btn-warning",onClick:this.props.signOutHandler},"Sign Out")))),r.a.createElement(E.c,null,r.a.createElement(E.a,{path:"/complaintStatus"},r.a.createElement(I,{name:this.state.name,email:this.state.email})),r.a.createElement(E.a,{path:"/postComplaint"},r.a.createElement(x,{name:this.state.name,email:this.state.email,roll:this.state.roll,category:"student"})),r.a.createElement(E.a,{path:"/profile"},r.a.createElement(H,{name:this.state.name,email:this.state.email,category:"student"})),r.a.createElement(E.a,{path:"/"},r.a.createElement(y,{name:this.state.name,category:"student"})))))}}]),a}(r.a.Component);var A,B=function(e){return r.a.createElement("div",{className:"container home-div"},r.a.createElement("h2",{className:"home-greeting-msg"},"Hello ",e.name,"!"),r.a.createElement("h4",null,"Welcome to Administration portal of Resolve!"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h5",null,"Resolve is a prototype of a Student's Grievance Support System."),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"resolve-features-div"},r.a.createElement("h5",null,"It supports following features: "),r.a.createElement("p",null,"* Sign Up"),r.a.createElement("p",null,"* Sign In"),r.a.createElement("p",null,"* Own profile viewing and updating"),r.a.createElement("p",null,"* Posting complaints while choosing between several departments and sub categories ",r.a.createElement("em",null,"[",r.a.createElement("strong",null,"Only for students"),"]")),r.a.createElement("p",null,"* Viewing pending and resloved complaints ",r.a.createElement("em",null,"[",r.a.createElement("strong",null,"Only for students"),"]")),r.a.createElement("p",null,"* Viewing pending complaints ",r.a.createElement("em",null,"[",r.a.createElement("strong",null,"Only for Administration staffs"),"]")),r.a.createElement("p",null,"* Resolving pending complaints ",r.a.createElement("em",null,"[",r.a.createElement("strong",null,"Only for Administration staffs"),"]"))))};A="https://resolve.aryanabhi.in";var q=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(i.a)(this,Object(m.a)(a).call(this,e))).state={name:"",email:"",staffId:"",department:"",college:"",address:"",phone:""},t.staffIdChangeHandler=t.staffIdChangeHandler.bind(Object(d.a)(Object(d.a)(t))),t.departmentChangeHandler=t.departmentChangeHandler.bind(Object(d.a)(Object(d.a)(t))),t.collegeChangeHandler=t.collegeChangeHandler.bind(Object(d.a)(Object(d.a)(t))),t.addressChangeHandler=t.addressChangeHandler.bind(Object(d.a)(Object(d.a)(t))),t.phoneChangeHandler=t.phoneChangeHandler.bind(Object(d.a)(Object(d.a)(t))),t.updateProfileHandler=t.updateProfileHandler.bind(Object(d.a)(Object(d.a)(t))),t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"staffIdChangeHandler",value:function(e){this.setState({staffId:e.target.value})}},{key:"departmentChangeHandler",value:function(e){this.setState({department:e.target.value})}},{key:"collegeChangeHandler",value:function(e){this.setState({college:e.target.value})}},{key:"addressChangeHandler",value:function(e){this.setState({address:e.target.value})}},{key:"phoneChangeHandler",value:function(e){this.setState({phone:e.target.value})}},{key:"componentDidMount",value:function(){var e=Object(v.a)(b.a.mark(function e(){var a,t,n,r,s,l,o,c,i,m;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,sessionStorage.getItem("assistToken")){e.next=6;break}return e.abrupt("return",alert("Token missing! Please sign out and sign in again!"));case 6:return a=A+"/api/profile/getProfile",e.next=9,fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({category:"administration",token:sessionStorage.getItem("assistToken")})});case 9:return t=e.sent,e.next=12,t.json();case 12:200!==(n=e.sent).status?(alert(n.message),alert("There was some error! Please sign out and sign in again.")):(r=n.user.name,s=n.user.email,l=n.user.staffId,o=n.user.department,c=n.user.college,i=n.user.address,m=n.user.phone,this.setState({name:r,email:s,staffId:l,department:o,college:c,address:i,phone:m}));case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),alert("There was some error! Please sign out and sign in again.");case 19:case"end":return e.stop()}},e,this,[[0,16]])}));return function(){return e.apply(this,arguments)}}()},{key:"updateProfileHandler",value:function(){var e=Object(v.a)(b.a.mark(function e(a){var t,n,r,s,l,o,c,i;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),t=this.state.staffId.trim(),n=this.state.department.trim(),r=this.state.college.trim(),s=this.state.address.trim(),l=this.state.phone.trim(),t){e.next=10;break}alert("Staff Id empty!"),e.next=42;break;case 10:if(n){e.next=14;break}alert("Department empty!"),e.next=42;break;case 14:if(r){e.next=18;break}alert("College empty!"),e.next=42;break;case 18:if(s){e.next=22;break}alert("Address empty!"),e.next=42;break;case 22:if(l){e.next=26;break}alert("Phone empty!"),e.next=42;break;case 26:return e.prev=26,o=A+"/api/profile/updateProfile",e.next=30,fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({staffId:t,department:n,college:r,address:s,phone:l,category:"administration",token:sessionStorage.getItem("assistToken")})});case 30:return c=e.sent,e.next=33,c.json();case 33:if(200===(i=e.sent).status){e.next=36;break}return e.abrupt("return",alert(i.message));case 36:alert("Profile updated successfully!!"),e.next=42;break;case 39:e.prev=39,e.t0=e.catch(26),alert(e.t0.message);case 42:case"end":return e.stop()}},e,this,[[26,39]])}));return function(a){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"container change-pass-div"},r.a.createElement("form",{noValidate:!0},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-form-label"},"Name:"),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.name,disabled:!0,required:"required"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-form-label"},"Email:"),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.email,disabled:!0,required:"required"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-form-label"},"Staff Id:"),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.staffId,onChange:this.staffIdChangeHandler,required:"required"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-form-label"},"Department:"),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.department,onChange:this.departmentChangeHandler,required:"required"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-form-label"},"College:"),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.college,onChange:this.collegeChangeHandler,required:"required"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-form-label"},"Address:"),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.address,onChange:this.addressChangeHandler,required:"required"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-form-label"},"Phone Number:"),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.phone,onChange:this.phoneChangeHandler,required:"required"})),r.a.createElement("span",null,r.a.createElement("button",{type:"submit",className:"btn btn-outline-info",onClick:this.updateProfileHandler},"Update"))))}}]),a}(r.a.Component);var R,D=function(e){return r.a.createElement("div",{className:"container profile-main-div"},r.a.createElement("h3",{className:"profile-greeting-msg"},"You can view and edit your profile details here."),r.a.createElement("div",{className:"container profile-edit-div"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement(q,null)),r.a.createElement("div",{className:"col-md-4"},r.a.createElement(k,{category:"administration"})))))},U=(t(46),function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(i.a)(this,Object(m.a)(a).call(this,e))).state={message:""},t.clearButtonHandler=t.clearButtonHandler.bind(Object(d.a)(Object(d.a)(t))),t.messageChangeHandler=t.messageChangeHandler.bind(Object(d.a)(Object(d.a)(t))),t.resolveButtonHandler=t.resolveButtonHandler.bind(Object(d.a)(Object(d.a)(t))),t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"messageChangeHandler",value:function(e){this.setState({message:e.target.value})}},{key:"clearButtonHandler",value:function(e){this.setState({message:""})}},{key:"resolveButtonHandler",value:function(){var e=this.state.message.trim();if(!e)return alert("Resolve message cant be empty!");this.props.resolveHandler(this.props.id,e)}},{key:"render",value:function(){return r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"indiv-complaint-wrapper"},r.a.createElement("div",{className:"indiv-complaint"},r.a.createElement("p",null,r.a.createElement("strong",null,"Created: "),this.props.dateCreated),r.a.createElement("p",null,r.a.createElement("strong",null,"Department: "),this.props.department),r.a.createElement("p",null,r.a.createElement("strong",null,"Sub Category: "),this.props.subCategory),r.a.createElement("p",null,r.a.createElement("strong",null,"College: "),this.props.college),r.a.createElement("p",null,r.a.createElement("strong",null,"Message: "),this.props.message),r.a.createElement("div",{className:"form-group indiv-complaint-textarea"},r.a.createElement("label",{className:"col-form-label"},r.a.createElement("strong",null,"Resolve message:")),r.a.createElement("textarea",{className:"form-control",value:this.state.message,onChange:this.messageChangeHandler})),r.a.createElement("div",{className:"resolve-complaints-buttons"},r.a.createElement("span",null,r.a.createElement("button",{className:"btn btn-warning",onClick:this.clearButtonHandler},"Clear")),r.a.createElement("span",null,r.a.createElement("button",{className:"btn btn-success",onClick:this.resolveButtonHandler},"Resolve"))))))}}]),a}(r.a.Component));R="https://resolve.aryanabhi.in";var L,J=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(i.a)(this,Object(m.a)(a).call(this,e))).state={allComplaints:[],sortedComplaints:[],department:"All departments",subCategory:"All sub categories",college:"All colleges"},t.departmentChangeHandler=t.departmentChangeHandler.bind(Object(d.a)(Object(d.a)(t))),t.subCategoryChangeHandler=t.subCategoryChangeHandler.bind(Object(d.a)(Object(d.a)(t))),t.collegeChangeHandler=t.collegeChangeHandler.bind(Object(d.a)(Object(d.a)(t))),t.searchButtonClickHandler=t.searchButtonClickHandler.bind(Object(d.a)(Object(d.a)(t))),t.showAllHandler=t.showAllHandler.bind(Object(d.a)(Object(d.a)(t))),t.ResolveComplaintsHandler=t.ResolveComplaintsHandler.bind(Object(d.a)(Object(d.a)(t))),t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"departmentChangeHandler",value:function(e){this.setState({department:e.target.value})}},{key:"subCategoryChangeHandler",value:function(e){this.setState({subCategory:e.target.value})}},{key:"collegeChangeHandler",value:function(e){this.setState({college:e.target.value})}},{key:"searchButtonClickHandler",value:function(){var e=this,a=this.state.allComplaints.filter(function(a){return!("All departments"!==e.state.department&&e.state.department!==a.department||"All sub categories"!==e.state.subCategory&&e.state.subCategory!==a.subCategory||"All colleges"!==e.state.college&&e.state.college!==a.college)});this.setState({sortedComplaints:a})}},{key:"showAllHandler",value:function(){this.setState({department:"All departments",subCategory:"All sub categories",college:"All colleges",sortedComplaints:this.state.allComplaints})}},{key:"ResolveComplaintsHandler",value:function(){var e=Object(v.a)(b.a.mark(function e(a,t){var n,r,s,l,o,c;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return",alert("Complaint id missing!"));case 2:if(sessionStorage.getItem("assistToken")){e.next=7;break}return e.abrupt("return",alert("Token missing! Please sign out and sign in again."));case 7:return e.prev=7,n=R+"/api/complaint/resolveComplaint",e.next=11,fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a,resolveMessage:t,token:sessionStorage.getItem("assistToken")})});case 11:return r=e.sent,e.next=14,r.json();case 14:if(200===(s=e.sent).status){e.next=17;break}return e.abrupt("return",alert(s.message));case 17:return alert(s.message),l=R+"/api/complaint/getPendingComplaints",e.next=21,fetch(l,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:sessionStorage.getItem("assistToken")})});case 21:return o=e.sent,e.next=24,o.json();case 24:if(200===(c=e.sent).status){e.next=27;break}return e.abrupt("return",alert(c.message));case 27:this.setState({allComplaints:c.pendingComplaints,sortedComplaints:c.pendingComplaints}),e.next=33;break;case 30:e.prev=30,e.t0=e.catch(7),alert(e.t0.message);case 33:case"end":return e.stop()}},e,this,[[7,30]])}));return function(a,t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(v.a)(b.a.mark(function e(){var a,t,n;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(sessionStorage.getItem("assistToken")){e.next=5;break}return e.abrupt("return",alert("Token missing! Please sign out and sign in again."));case 5:return e.prev=5,a=R+"/api/complaint/getPendingComplaints",e.next=9,fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:sessionStorage.getItem("assistToken")})});case 9:return t=e.sent,e.next=12,t.json();case 12:if(200===(n=e.sent).status){e.next=15;break}return e.abrupt("return",alert(n.message));case 15:this.setState({allComplaints:n.pendingComplaints,sortedComplaints:n.pendingComplaints}),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(5),alert(e.t0.message);case 21:case"end":return e.stop()}},e,this,[[5,18]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,a=this.state.sortedComplaints.map(function(a,t){return r.a.createElement(U,{key:t,id:a._id,department:a.department,subCategory:a.subCategory,college:a.college,message:a.message,feedback:a.resolveMessage,dateCreated:a.dateCreated,dateResolved:a.dateResolved,resolveHandler:e.ResolveComplaintsHandler})});return r.a.createElement("div",{className:"container resolve-complaints-div"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-form-label"},"Department:"),r.a.createElement("select",{className:"form-control",value:this.state.department,onChange:this.departmentChangeHandler},r.a.createElement("option",{value:"All departments"},"All departments"),r.a.createElement("option",{value:"CSE"},"CSE"),r.a.createElement("option",{value:"MECH"},"MECH"),r.a.createElement("option",{value:"ECE"},"ECE"),r.a.createElement("option",{value:"IT"},"IT"),r.a.createElement("option",{value:"CIVIL"},"CIVIL")))),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-form-label"},"Sub Category:"),r.a.createElement("select",{className:"form-control",value:this.state.subCategory,onChange:this.subCategoryChangeHandler},r.a.createElement("option",{value:"All sub categories"},"All sub categories"),r.a.createElement("option",{value:"Admission"},"Admission"),r.a.createElement("option",{value:"Finance"},"Finance"),r.a.createElement("option",{value:"Examination"},"Examination"),r.a.createElement("option",{value:"Timetable"},"Timetable"),r.a.createElement("option",{value:"Paper Re-evaluation"},"Paper Re-evaluation")))),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-form-label"},"College:"),r.a.createElement("select",{className:"form-control",value:this.state.college,onChange:this.collegeChangeHandler},r.a.createElement("option",{value:"All colleges"},"All colleges"),r.a.createElement("option",{value:"BIT Mesra"},"BIT Mesra"),r.a.createElement("option",{value:"BIT Patna"},"BIT Patna"),r.a.createElement("option",{value:"BIT Lalpur"},"BIT Lalpur"),r.a.createElement("option",{value:"BIT Sindri"},"BIT Sindri"),r.a.createElement("option",{value:"BIT Deoghar"},"BIT Deoghar"))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 resolve-complaints-buttons"},r.a.createElement("span",{className:"search-buttons-span"},r.a.createElement("button",{className:"btn btn-primary",onClick:this.searchButtonClickHandler},"Search")),r.a.createElement("span",{className:"search-buttons-span"},r.a.createElement("button",{className:"btn btn-success",onClick:this.showAllHandler},"Show All")))),r.a.createElement("div",{className:"all-complaints-div"},r.a.createElement("h3",{className:"resolve-complaints-msg"},"You can see and resolve all the pending complaints here."),r.a.createElement("div",{className:"row"},a)))}}]),a}(r.a.Component);L="https://resolve.aryanabhi.in";var V,F=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(i.a)(this,Object(m.a)(a).call(this,e))).state={name:"",email:""},t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=Object(v.a)(b.a.mark(function e(){var a,t,n;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,sessionStorage.getItem("assistToken")){e.next=4;break}return e.abrupt("return",alert("Token missing! Please sign out and sign in again!!"));case 4:return a=L+"/api/profile/getProfile",e.next=7,fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({category:"administration",token:sessionStorage.getItem("assistToken")})});case 7:return t=e.sent,e.next=10,t.json();case 10:if(200===(n=e.sent).status){e.next=15;break}return e.abrupt("return",alert(n.message));case 15:this.setState({name:n.user.name,email:n.user.email});case 16:e.next=21;break;case 18:return e.prev=18,e.t0=e.catch(0),e.abrupt("return",alert("There was some error! Please sign out and sign in again!!"));case 21:case"end":return e.stop()}},e,this,[[0,18]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(f.a,null,r.a.createElement("div",{className:"container"},r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light"},r.a.createElement("span",{className:"navbar-brand nav-logo"},r.a.createElement("img",{src:g.a,className:"Portal-logo",alt:"logo"}),r.a.createElement("h2",null,"RESOLVE")),r.a.createElement("button",{className:"navbar-toggler portal-navbar-toggle-btn",type:"button","data-toggle":"collapse","data-target":"#navbarTogglerPortal","aria-controls":"navbarTogglerPortal","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarTogglerPortal"},r.a.createElement("ul",{className:"navbar-nav mr-auto mt-2 mt-lg-0"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(f.b,{to:"/"},"Home")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(f.b,{to:"/profile"},"Profile")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(f.b,{to:"/complaints"},"Complaints"))),r.a.createElement("span",{className:"form-inline my-2 my-lg-0"},r.a.createElement("button",{className:"btn btn-warning",onClick:this.props.signOutHandler},"Sign Out")))),r.a.createElement(E.c,null,r.a.createElement(E.a,{path:"/complaints"},r.a.createElement(J,{name:this.state.name,email:this.state.email,category:"administration"})),r.a.createElement(E.a,{path:"/profile"},r.a.createElement(D,{name:this.state.name,email:this.state.email,category:"administration"})),r.a.createElement(E.a,{path:"/"},r.a.createElement(B,{name:this.state.name,category:"administration"})))))}}]),a}(r.a.Component);t(27);V="https://resolve.aryanabhi.in";var Y,G=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(i.a)(this,Object(m.a)(a).call(this,e))).state={name:"",email:"",category:"student",pass:"",confPass:"",errorMsg:""},t.signUpHandler=t.signUpHandler.bind(Object(d.a)(Object(d.a)(t))),t.nameChangeHandler=t.nameChangeHandler.bind(Object(d.a)(Object(d.a)(t))),t.emailChangeHandler=t.emailChangeHandler.bind(Object(d.a)(Object(d.a)(t))),t.categoryChangeHandler=t.categoryChangeHandler.bind(Object(d.a)(Object(d.a)(t))),t.passChangeHandler=t.passChangeHandler.bind(Object(d.a)(Object(d.a)(t))),t.confPassChangeHandler=t.confPassChangeHandler.bind(Object(d.a)(Object(d.a)(t))),t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"nameChangeHandler",value:function(e){this.setState({name:e.target.value})}},{key:"emailChangeHandler",value:function(e){this.setState({email:e.target.value})}},{key:"categoryChangeHandler",value:function(e){this.setState({category:e.target.value})}},{key:"passChangeHandler",value:function(e){this.setState({pass:e.target.value})}},{key:"confPassChangeHandler",value:function(e){this.setState({confPass:e.target.value})}},{key:"signUpHandler",value:function(){var e=Object(v.a)(b.a.mark(function e(a){var t,n,r,s,l,o,c,i;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),t=this.state.name.trim().toLowerCase(),n=this.state.email.trim(),r=this.state.pass.trim(),s=this.state.confPass.trim(),t||this.setState({errorMsg:"Name empty!"}),n){e.next=10;break}this.setState({errorMsg:"Email empty!"}),e.next=41;break;case 10:if(r){e.next=14;break}this.setState({errorMsg:"Password empty!"}),e.next=41;break;case 14:if(s){e.next=18;break}this.setState({errorMsg:"Conf password empty!"}),e.next=41;break;case 18:if(r===s){e.next=22;break}this.setState({errorMsg:"Pass and conf pass dont match!"}),e.next=41;break;case 22:return this.setState({errorMsg:""}),e.prev=23,l=V+"/api/authenticate/signUp",e.next=27,fetch(l,{method:"POST",body:JSON.stringify({name:t,email:this.state.email,password:this.state.pass,category:this.state.category}),headers:{"Content-Type":"application/json"}});case 27:return o=e.sent,e.next=30,o.json();case 30:if(200===(c=e.sent).status){e.next=33;break}return e.abrupt("return",alert(c.message));case 33:i=c.token,sessionStorage.setItem("assistToken",i),this.props.doSignUp(this.state.category),e.next=41;break;case 38:e.prev=38,e.t0=e.catch(23),alert(e.t0);case 41:case"end":return e.stop()}},e,this,[[23,38]])}));return function(a){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"container signInUpDiv"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-form-label"},"Name:"),r.a.createElement("input",{type:"text",className:"form-control",onChange:this.nameChangeHandler,id:"signUp-name"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-form-label"},"Email:"),r.a.createElement("input",{type:"email",className:"form-control",onChange:this.emailChangeHandler,id:"signUp-email"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-form-label"},"Category:"),r.a.createElement("select",{className:"form-control",value:this.state.category,onChange:this.categoryChangeHandler},r.a.createElement("option",{value:"student"},"Student"),r.a.createElement("option",{value:"administration"},"Administration"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-form-label"},"Password:"),r.a.createElement("input",{type:"password",className:"form-control",onChange:this.passChangeHandler,id:"signUp-password"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-form-label"},"Confirm Password:"),r.a.createElement("input",{type:"password",className:"form-control",onChange:this.confPassChangeHandler,id:"SignUp-confirm-password"})),r.a.createElement("p",{className:"errorMsg"},this.state.errorMsg),r.a.createElement("span",null,r.a.createElement("button",{type:"button",className:"btn btn-outline-info",onClick:this.signUpHandler},"Sign Up"))))}}]),a}(r.a.Component);Y="https://resolve.aryanabhi.in";var W=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(i.a)(this,Object(m.a)(a).call(this,e))).state={email:"",password:"",category:"student",errorMsg:""},t.signInHandler=t.signInHandler.bind(Object(d.a)(Object(d.a)(t))),t.emailChangeHandler=t.emailChangeHandler.bind(Object(d.a)(Object(d.a)(t))),t.passwordChangeHandler=t.passwordChangeHandler.bind(Object(d.a)(Object(d.a)(t))),t.categoryChangeHandler=t.categoryChangeHandler.bind(Object(d.a)(Object(d.a)(t))),t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"categoryChangeHandler",value:function(e){this.setState({category:e.target.value})}},{key:"emailChangeHandler",value:function(e){this.setState({email:e.target.value})}},{key:"passwordChangeHandler",value:function(e){this.setState({password:e.target.value})}},{key:"signInHandler",value:function(){var e=Object(v.a)(b.a.mark(function e(a){var t,n,r,s,l,o;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),t=this.state.email.trim(),n=this.state.password.trim(),t){e.next=7;break}this.setState({errorMsg:"Email empty!"}),e.next=30;break;case 7:if(n){e.next=11;break}this.setState({errorMsg:"Password empty!"}),e.next=30;break;case 11:return this.setState({errorMsg:""}),e.prev=12,r=Y+"/api/authenticate/signIn",e.next=16,fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:this.state.email,password:this.state.password,category:this.state.category})});case 16:return s=e.sent,e.next=19,s.json();case 19:if(200===(l=e.sent).status){e.next=22;break}return e.abrupt("return",alert(l.message));case 22:o=l.token,sessionStorage.setItem("assistToken",o),this.props.doSignIn(this.state.category),e.next=30;break;case 27:e.prev=27,e.t0=e.catch(12),alert(e.t0.message);case 30:case"end":return e.stop()}},e,this,[[12,27]])}));return function(a){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"container signInUpDiv"},r.a.createElement("form",{noValidate:!0},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-form-label"},"Category:"),r.a.createElement("select",{className:"form-control",value:this.state.category,onChange:this.categoryChangeHandler},r.a.createElement("option",{value:"student"},"Student"),r.a.createElement("option",{value:"administration"},"Administration"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-form-label"},"Email:"),r.a.createElement("input",{type:"email",className:"form-control",onChange:this.emailChangeHandler,id:"signIn-email",required:"required"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-form-label"},"Password:"),r.a.createElement("input",{type:"password",className:"form-control",onChange:this.passwordChangeHandler,id:"signIn-password",required:"required"})),r.a.createElement("p",{className:"errorMsg"},this.state.errorMsg),r.a.createElement("span",null,r.a.createElement("button",{type:"submit",className:"btn btn-outline-info",onClick:this.signInHandler},"Sign In"))))}}]),a}(r.a.Component),_=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(i.a)(this,Object(m.a)(a).call(this,e))).state={isLoggedIn:!1,category:""},t.signOutHandler=t.signOutHandler.bind(Object(d.a)(Object(d.a)(t))),t.doSignIn=t.doSignIn.bind(Object(d.a)(Object(d.a)(t))),t.doSignUp=t.doSignUp.bind(Object(d.a)(Object(d.a)(t))),t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"signOutHandler",value:function(e){sessionStorage.removeItem("assistToken"),this.setState({isLoggedIn:!1,category:""})}},{key:"doSignIn",value:function(e){this.setState({isLoggedIn:!0,category:e})}},{key:"doSignUp",value:function(e){this.setState({isLoggedIn:!0,category:e})}},{key:"render",value:function(){var e=r.a.createElement(M,{signOutHandler:this.signOutHandler}),a=r.a.createElement(F,{signOutHandler:this.signOutHandler}),t=r.a.createElement("div",{className:"container"},r.a.createElement("header",{className:"App-header"},r.a.createElement("img",{src:g.a,className:"App-logo",alt:"logo"})),r.a.createElement("div",{className:"container home-desc"},r.a.createElement("h2",null,r.a.createElement("strong",null,"Resolve")),r.a.createElement("h4",null,r.a.createElement("em",null,"Students Grievance Support System"))),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-1"}),r.a.createElement("div",{className:"col-md-4 signInUpContainer"},r.a.createElement(W,{doSignIn:this.doSignIn})),r.a.createElement("div",{className:"col-md-2"}),r.a.createElement("div",{className:"col-md-4 signInUpContainer"},r.a.createElement(G,{doSignUp:this.doSignUp})),r.a.createElement("div",{className:"col-md-1"}))),r.a.createElement("hr",null),r.a.createElement("div",{className:"footer"},r.a.createElement("p",null,"Designed as part of our lab assignment of Software Engineering Lab."),r.a.createElement("p",null,"Designed by: ",r.a.createElement("strong",null,"Team Dextro")),r.a.createElement("p",null,"1. Abhishek Aryan BE/10130/17"),r.a.createElement("p",null,"2. Rohit Hembrom BE/10131/17"),r.a.createElement("p",null,"3. Gaurav Singh BE/10137/17")));return r.a.createElement("div",{className:"container-fluid home"},this.state.isLoggedIn?"student"===this.state.category?e:a:t)}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()}).catch(function(e){console.error(e.message)})}],[[30,1,2]]]);
//# sourceMappingURL=main.e49f694c.chunk.js.map